============================= test session starts ==============================
platform linux -- Python 3.9.18, pytest-8.1.1, pluggy-1.4.0 -- /opt/conda/envs/gdf/bin/python3.9
cachedir: .pytest_cache
rootdir: /usr/src/ucx-py
configfile: pyproject.toml
plugins: asyncio-0.23.5.post1
asyncio: mode=strict
collecting ... collected 8 items

debug-tests/test_send_recv_many_workers.py::test_send_recv_cu[True-dataframe] [0, 1, 2, 3, 4, 5, 6, 7]
Process client_0:
Traceback (most recent call last):
  File "/opt/conda/envs/gdf/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
  File "/opt/conda/envs/gdf/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/src/ucx-py/debug-tests/test_send_recv_many_workers.py", line 68, in client
    set_rmm()
  File "/usr/src/ucx-py/debug-tests/debug_utils.py", line 17, in set_rmm
    rmm.reinitialize(
  File "/opt/conda/envs/gdf/lib/python3.9/site-packages/rmm/rmm.py", line 81, in reinitialize
    mr._initialize(
  File "memory_resource.pyx", line 946, in rmm._lib.memory_resource._initialize
  File "memory_resource.pyx", line 1006, in rmm._lib.memory_resource._initialize
  File "memory_resource.pyx", line 381, in rmm._lib.memory_resource.PoolMemoryResource.__cinit__
MemoryError: std::bad_alloc: out_of_memory: RMM failure at:/opt/conda/conda-bld/work/include/rmm/mr/device/pool_memory_resource.hpp:424: Maximum pool size exceeded
ITER:  0
size of the message:  67108864
size of the message:  67108864
size of the message:  67108864
size of the message:  67108864
size of the message:  67108864
Shutting Down Client...
ITER:  1
size of the message:  67108864
size of the message:  67108864
size of the message:  67108864
size of the message:  67108864
size of the message:  67108864
Shutting Down Client...
ITER:  2
size of the message:  67108864
size of the message:  67108864
size of the message:  67108864
size of the message:  67108864
size of the message:  67108864
Shutting Down Client...
FINISHED
ITER:  0
size of the message:  67108864
size of the message:  67108864
size of the message:  67108864
size of the message:  67108864
size of the message:  67108864
Shutting Down Client...
ITER:  1
size of the message:  67108864
size of the message:  67108864
size of the message:  67108864
size of the message:  67108864
size of the message:  67108864
Shutting Down Client...
ITER:  2
size of the message:  67108864
size of the message:  67108864
size of the message:  67108864
size of the message:  67108864
size of the message:  67108864
Shutting Down Client...
FINISHED
ITER:  0
size of the message:  67108864
size of the message:  67108864
size of the message:  67108864
size of the message:  67108864
size of the message:  67108864
Shutting Down Client...
ITER:  1
size of the message:  67108864
size of the message:  67108864
size of the message:  67108864
size of the message:  67108864
size of the message:  67108864
Shutting Down Client...
ITER:  2
size of the message:  67108864
size of the message:  67108864
size of the message:  67108864
size of the message:  67108864
size of the message:  67108864
Shutting Down Client...
FINISHED
ITER:  0
size of the message:  67108864
size of the message:  67108864
size of the message:  67108864
size of the message:  67108864
size of the message:  67108864
Shutting Down Client...
ITER:  1
size of the message:  67108864
size of the message:  67108864
size of the message:  67108864
size of the message:  67108864
size of the message:  67108864
Shutting Down Client...
ITER:  2
size of the message:  67108864
size of the message:  67108864
size of the message:  67108864
size of the message:  67108864
size of the message:  67108864
Shutting Down Client...
FINISHED
ITER:  0
size of the message:  67108864
size of the message:  67108864
size of the message:  67108864
size of the message:  67108864
size of the message:  67108864
Shutting Down Client...
ITER:  1
size of the message:  67108864
size of the message:  67108864
size of the message:  67108864
size of the message:  67108864
size of the message:  67108864
Shutting Down Client...
ITER:  2
size of the message:  67108864
size of the message:  67108864
size of the message:  67108864
size of the message:  67108864
size of the message:  67108864
Shutting Down Client...
FINISHED
ITER:  0
size of the message:  67108864
size of the message:  67108864
size of the message:  67108864
size of the message:  67108864
size of the message:  67108864
Shutting Down Client...
ITER:  1
size of the message:  67108864
size of the message:  67108864
size of the message:  67108864
size of the message:  67108864
size of the message:  67108864
Shutting Down Client...
ITER:  2
size of the message:  67108864
size of the message:  67108864
size of the message:  67108864
size of the message:  67108864
size of the message:  67108864
Shutting Down Client...
FINISHED
ITER:  0
size of the message:  67108864
size of the message:  67108864
size of the message:  67108864
size of the message:  67108864
size of the message:  67108864
Shutting Down Client...
ITER:  1
size of the message:  67108864
size of the message:  67108864
size of the message:  67108864
size of the message:  67108864
size of the message:  67108864
Shutting Down Client...
ITER:  2
size of the message:  67108864
size of the message:  67108864
size of the message:  67108864
size of the message:  67108864
size of the message:  67108864
Shutting Down Client...
FINISHED
sys:1: RuntimeWarning: coroutine 'BlockingMode._arm_worker' was never awaited
RuntimeWarning: Enable tracemalloc to get the object allocation traceback
Task was destroyed but it is pending!
task: <Task cancelling name='Task-57' coro=<BlockingMode._arm_worker() running at /opt/conda/envs/gdf/lib/python3.9/site-packages/ucp/continuous_ucx_progress.py:88>>
sys:1: RuntimeWarning: coroutine 'BlockingMode._arm_worker' was never awaited
RuntimeWarning: Enable tracemalloc to get the object allocation traceback
Task was destroyed but it is pending!
task: <Task cancelling name='Task-46' coro=<BlockingMode._arm_worker() running at /opt/conda/envs/gdf/lib/python3.9/site-packages/ucp/continuous_ucx_progress.py:88>>
sys:1: RuntimeWarning: coroutine 'BlockingMode._arm_worker' was never awaited
RuntimeWarning: Enable tracemalloc to get the object allocation traceback
Task was destroyed but it is pending!
task: <Task cancelling name='Task-141' coro=<BlockingMode._arm_worker() running at /opt/conda/envs/gdf/lib/python3.9/site-packages/ucp/continuous_ucx_progress.py:88>>
